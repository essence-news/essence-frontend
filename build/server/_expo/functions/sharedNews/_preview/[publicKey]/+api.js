var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,__METRO_GLOBAL_PREFIX__='';
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(t.has(n))return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t.set(n,i)},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&&n.forEach((r=>{t.has(r)||h.has(r)||h.set(r,e)}))};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=new Map}function i(e){const r=e,n=t.get(r);return n&&n.isInitialized?n.publicModule.exports:d(r,n)}function l(e){const n=e,o=t.get(n);if(o&&o.importedDefault!==r)return o.importedDefault;const l=i(n),u=l&&l.__esModule?l.default:l;return t.get(n).importedDefault=u}function u(e){const o=e,l=t.get(o);if(l&&l.importedAll!==r)return l.importedAll;const u=i(o);let c;if(u&&u.__esModule)c=u;else{if(c={},u)for(const e in u)n.call(u,e)&&(c[e]=u[e]);c.default=u}return t.get(o).importedAll=c}i.importDefault=l,i.importAll=u,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};let c=!1;function d(t,r){if(!c&&e.ErrorUtils){let n;c=!0;try{n=g(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return g(t,r)}const a=16,s=65535;function f(e){return{segmentId:e>>>a,localId:e&s}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId<<a)+e.localId};const p=[],h=new Map;function g(r,n){if(!n&&p.length>0){const e=h.get(r)??0,o=p[e];null!=o&&(o(r),n=t.get(r),h.delete(r))}const o=e.nativeRequire;if(!n&&o){const{segmentId:e,localId:i}=f(r);o(i,e),n=t.get(r)}if(!n)throw _(r);if(n.hasError)throw n.error;n.isInitialized=!0;const{factory:c,dependencyMap:d}=n;try{const t=n.publicModule;return t.id=r,c(e,i,l,u,t,t.exports,d),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function _(e){return Error('Requiring unknown module "'+e+'".')}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(e){e.$$require_external=require})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window;
!(function(r){let n=0,t=function(r,n){throw r};const l={setGlobalHandler(r){t=r},getGlobalHandler:()=>t,reportError(r){t&&t(r,!1)},reportFatalError(r){t&&t(r,!0)},applyWithGuard(r,t,e,o,a){try{return n++,r.apply(t,e)}catch(r){l.reportError(r)}finally{n--}return null},applyWithGuardIfNeeded:(r,n,t)=>l.inGuard()?r.apply(n,t):(l.applyWithGuard(r,n,t),null),inGuard:()=>!!n,guard(r,n,t){if('function'!=typeof r)return console.warn('A function must be passed to ErrorUtils.guard, got ',r),null;const e=n??r.name??'<generated guard>';return function(...n){return l.applyWithGuard(r,t??this,n,null,e)}}};r.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.GET=async function(t){try{const o=new URL(t.url).pathname.split('/'),s=o[o.length-1];console.log("Going to get article for publicKey >>> ",s);const c=await n(s);console.log("article >>> ",c.title);const l=`\n      <!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="utf-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1">\n          <title>${c.title} | Essence News</title>\n\n          \x3c!-- SEO Meta Tags --\x3e\n          <meta name="robots" content="index, follow">\n          <meta name="description" content="${c.summary_200}">\n          <meta name="keywords" content="news, business news, retail news, ${c.categories.join(', ')}, ${c.title.toLowerCase()}">\n          <link rel="canonical" href="${process.env.EXPO_PUBLIC_SITE_URL}/sharedNews/${s}" />\n\n          \x3c!-- OpenGraph Meta Tags --\x3e\n          <meta property="og:title" content="${c.title}" />\n          <meta property="og:description" content="${c.summary_50}" />\n          <meta property="og:image" content="${c.image}" />\n          <meta property="og:url" content="${process.env.EXPO_PUBLIC_SITE_URL}/sharedNews/${s}" />\n          <meta property="og:type" content="article" />\n          <meta property="og:site_name" content="Essence News" />\n          <meta property="article:published_time" content="${c.date_published}" />\n\n          \x3c!-- Twitter Card Tags --\x3e\n          <meta name="twitter:card" content="summary_large_image" />\n          <meta name="twitter:title" content="${c.title}" />\n          <meta name="twitter:description" content="${c.summary_50}" />\n          <meta name="twitter:image" content="${c.image}" />\n\n          \x3c!-- Other Meta Tags --\x3e\n          <meta name="description" content="${c.summary_50}">\n        </head>\n        <body>\n          \x3c!-- Add a basic content structure for crawlers --\x3e\n          <article>\n            <h1>${c.title}</h1>\n            <img src="${c.image}" alt="${c.title}" />\n            <p>${c.summary_50}</p>\n            <h3>Detailed Summary</h3>\n            <p>${c.summary_200}</p>\n            <h3>Date Published</h3>\n            <p>${c.date_published}</p>\n            <h3>Source</h3>\n            <p>${c.source_name}</p>\n            <h3>Categories</h3>\n            <p>${c.categories.join(', ')}</p> \n            <h3>Link to Article</h3>\n            <p>${c.url}</p>\n          </article>\n          <script>\n            // Redirect to the app view for human visitors\n            window.location.href = '/sharedNews/${s}';\n          <\/script>\n        </body>\n      </html>\n    `;return new Response(l,{status:200,headers:{"Content-Type":"text/html"}})}catch(t){return console.error("Error generating share preview:",t),new Response("Article not found",{status:404})}},e.getArticleFromServer=void 0;const t=process.env.EXPO_PUBLIC_ESSENCE_REST_API_URL,n=async n=>{try{const o={method:"GET",headers:{"Content-Type":"application/json"},body:void 0},s=await fetch(`${t}/public/article/${n}`,o);if(!s.ok)throw new Error("Failed to get article from server");return await s.json()}catch(t){throw console.error("Failed to get article from server:",t),new Error("Failed to get article from server")}};e.getArticleFromServer=n}),2738,[]);
module.exports = __r(2738);